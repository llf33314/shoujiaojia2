webpackJsonp([5],{130:function(t,e,i){"use strict";function n(t){i(249)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(251),r=i(252),a=i(36),d=n,u=a(o.a,r.a,!1,d,null,null);e.default=u.exports},152:function(t,e,i){"use strict";i.d(e,"i",function(){return r}),i.d(e,"a",function(){return a}),i.d(e,"l",function(){return d}),i.d(e,"e",function(){return u}),i.d(e,"j",function(){return s}),i.d(e,"b",function(){return p}),i.d(e,"m",function(){return c}),i.d(e,"f",function(){return m}),i.d(e,"k",function(){return l}),i.d(e,"g",function(){return f}),i.d(e,"d",function(){return g}),i.d(e,"o",function(){return v}),i.d(e,"h",function(){return y}),i.d(e,"c",function(){return h}),i.d(e,"n",function(){return k});var n=i(37),o=window.PCBASEDOMAIN,r=function(t){return n.a.post(o+"/app/minipark/listEats",t).then(function(t){return t.data})},a=function(t){return n.a.post(o+"/app/minipark/addEat",t).then(function(t){return t.data})},d=function(t){return n.a.post(o+"/app/minipark/modifyEat",t).then(function(t){return t.data})},u=function(t){return n.a.post(o+"/app/minipark/delEat",t).then(function(t){return t.data})},s=function(t){return n.a.post(o+"/app/minipark/listHotels",t).then(function(t){return t.data})},p=function(t){return n.a.post(o+"/app/minipark/addHotel",t).then(function(t){return t.data})},c=function(t){return n.a.post(o+"/app/minipark/modifyHotel",t).then(function(t){return t.data})},m=function(t){return n.a.post(o+"/app/minipark/delHotel",t).then(function(t){return t.data})},l=function(t){return n.a.post(o+"/app/minipark/listVideos",t).then(function(t){return t.data})},f=function(t){return n.a.post(o+"/app/minipark/delVideo",t).then(function(t){return t.data})},g=function(t){return n.a.post(o+"/app/minipark/addVideo",t).then(function(t){return t.data})},v=function(t){return n.a.post(o+"/app/minipark/modifyVideo",t).then(function(t){return t.data})},y=function(t){return n.a.post(o+"/app/minipark/getMainVideo",t).then(function(t){return t.data})},h=function(t){return n.a.post(o+"/app/minipark/addOrModifyMainVideo",t).then(function(t){return t.data})},k=function(t){return n.a.post(o+"/app/minipark/modifySort",t).then(function(t){return t.data})}},249:function(t,e,i){var n=i(250);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(120)("0777a869",n,!0)},250:function(t,e,i){e=t.exports=i(119)(!0),e.push([t.i,".parkmap-modifyvideo .public-content{padding-top:30px}.parkmap-modifyvideo .a-in-stop-prompt{display:inline-block;font-size:13px;color:#666;margin-left:10px}","",{version:3,sources:["g:/GtProject/gt_customize_general/cli-pc/src/components/parkMap/vue/modifyVideo.vue"],names:[],mappings:"AACA,qCACE,gBAAkB,CACnB,AACD,uCACE,qBAAsB,AACtB,eAAgB,AAChB,WAAY,AACZ,gBAAkB,CACnB",file:"modifyVideo.vue",sourcesContent:["\n.parkmap-modifyvideo .public-content {\n  padding-top: 30px;\n}\n.parkmap-modifyvideo .a-in-stop-prompt {\n  display: inline-block;\n  font-size: 13px;\n  color: #666;\n  margin-left: 10px;\n}\n"],sourceRoot:""}])},251:function(t,e,i){"use strict";var n=i(152);e.a={data:function(){return{loading:{state:!1,text:"保存"},modifyVideoReq:{videoName:"",imgUrl:"",videoUrl:""},modifyVideoRules:{videoName:[{required:!0,message:"请填写视频名称",trigger:"blur"}],imgUrl:[{required:!0,message:"请上传封面图",trigger:"blur"}],videoUrl:[{required:!0,message:"请设置直播链接",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;console.log(this.modifyVideoReq),this.$refs[t].validate(function(t){if(!t)return!1;e.modifyVideo()})},resetForm:function(t){this.$refs[t].resetFields(),this.$router.push({path:"/parkMapAdmin/index",query:{manage:"videoList"}})},getChangeUrl:function(t){this.modifyVideoReq[t.prop]=t.url},modifyVideo:function(){var t=this;this.loading={state:!0,text:"保存中"},console.log("save obj : ",this.modifyVideoReq),Object(n.o)(this.modifyVideoReq).then(function(e){var i=e.code;100==i?(t.$message({message:"编辑视频成功！",type:"success"}),t.$router.push({path:"/parkMapAdmin/index",query:{manage:"videoList"}})):t.$message.error(e.msg+"[错误码："+i+"]"),t.loading={state:!1,text:"保存"}})}},created:function(){console.log(this.$route.query),this.modifyVideoReq=this.$route.query}}},252:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"parkmap-modifyvideo",staticStyle:{overflow:"hidden"}},[i("el-breadcrumb",{staticClass:"public-crumbs",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/parkMapAdmin/index",query:{manage:"videoList"}}}},[t._v("直播视频管理")]),t._v(" "),i("el-breadcrumb-item",[t._v("编辑视频")])],1),t._v(" "),i("div",{staticClass:"public-content"},[i("el-form",{ref:"modifyVideoReq",staticClass:"demo-ruleForm",attrs:{model:t.modifyVideoReq,rules:t.modifyVideoRules,"label-width":"130px"}},[i("el-form-item",{attrs:{label:"视频名称",prop:"videoName"}},[i("el-input",{staticStyle:{width:"251px!important"},model:{value:t.modifyVideoReq.videoName,callback:function(e){t.$set(t.modifyVideoReq,"videoName",e)},expression:"modifyVideoReq.videoName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"封面图上传",prop:"imgUrl"}},[i("gt-material",{attrs:{prop:"imgUrl",url:t.modifyVideoReq.imgUrl,width:"80",height:"80"},on:{getChangeUrl:t.getChangeUrl}}),t._v(" "),i("p",{staticClass:"a-in-stop-prompt"},[t._v("建议上传1:1尺寸图片")])],1),t._v(" "),i("el-form-item",{attrs:{label:"直播链接：",prop:"videoUrl"}},[i("el-input",{staticStyle:{width:"251px!important"},model:{value:t.modifyVideoReq.videoUrl,callback:function(e){t.$set(t.modifyVideoReq,"videoUrl",e)},expression:"modifyVideoReq.videoUrl"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-top":"80px"}},[i("el-button",{attrs:{type:"primary",loading:t.loading.state},domProps:{textContent:t._s(t.loading.text)},on:{click:function(e){t.submitForm("modifyVideoReq")}}}),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.resetForm("modifyVideoReq")}}},[t._v("返回")])],1)],1)],1)],1)},o=[],r={render:n,staticRenderFns:o};e.a=r}});
//# sourceMappingURL=5.bcf6be94cfcacf0cc9f0.js.map